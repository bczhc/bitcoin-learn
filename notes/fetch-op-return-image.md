[src](../src/inscription/fetch_image.rs)

---

从https://gist.github.com/bczhc/0d985a8a6864d9bcb8e1d060f0fd25dd 看到一个有意思的，有位用户在链上通过OP_RETURN放入了一张AVIF图片。

https://mempool.space/address/bc1q3ez0mu6q3y59emtl2nweeevnhu7ualvu3ylapp

其中OP_RETURN内容为可打印文本的两条交易为：

- https://mempool.space/tx/9213e2aaadc2e634ae638795d3dd5cc302d4663e40bd72891acc98d7d65e81c5
  > 按Order顺序拼接HEX(1688B),用WinHex等还原为谢芃芃20241019.avif
- https://mempool.space/tx/6ec3d8efdd81bc858685afa889718052fb04e61a1822c7c7b3d77e7e9295f02b
  > Order0000-61-0001-40-5F-9-B-FD0-2F-4B-8-FDB-56-1C-3-5C-14-6F-E8-E0-25-F4-1E

使用程序提取，图片如下：

```hexdump
00000000: 0000 001c 6674 7970 6176 6966 0000 0000  ....ftypavif....
00000010: 6176 6966 6d69 6631 6d69 6166 0000 00f2  avifmif1miaf....
00000020: 6d65 7461 0000 0000 0000 0028 6864 6c72  meta.......(hdlr
00000030: 0000 0000 0000 0000 7069 6374 0000 0000  ........pict....
00000040: 0000 0000 0000 0000 6c69 6261 7669 6600  ........libavif.
00000050: 0000 000e 7069 746d 0000 0000 0001 0000  ....pitm........
00000060: 001e 696c 6f63 0000 0000 4400 0001 0001  ..iloc....D.....
00000070: 0000 0001 0000 0116 0000 0582 0000 0028  ...............(
00000080: 6969 6e66 0000 0000 0001 0000 001a 696e  iinf..........in
00000090: 6665 0200 0000 0001 0000 6176 3031 436f  fe........av01Co
000000a0: 6c6f 7200 0000 006a 6970 7270 0000 004b  lor....jiprp...K
000000b0: 6970 636f 0000 0014 6973 7065 0000 0000  ipco....ispe....
000000c0: 0000 0096 0000 00b9 0000 0010 7069 7869  ............pixi
000000d0: 0000 0000 0308 0808 0000 000c 6176 3143  ............av1C
000000e0: 8140 0800 0000 0013 636f 6c72 6e63 6c78  .@......colrnclx
000000f0: 0002 0002 0006 8000 0000 1769 706d 6100  ...........ipma.
00000100: 0000 0000 0000 0100 0104 0102 8304 0000  ................
00000110: 058a 6d64 6174 1200 0a09 581d e56e 3920  ..mdat....X..n9 
00000120: 4040 d232 f20a 4480 00e4 0d50 5fa0 cc66  @@.2..D....P_..f
00000130: 5be7 5772 5f3e e4b1 cb6c 7ef8 1026 ed87  [.Wr_>...l~..&..
00000140: 4022 0ad2 2532 9c48 13d6 433e d401 dbd1  @"..%2.H..C>....
00000150: 18d5 964b 9495 092a dba9 35bf cca0 2f56  ...K...*..5.../V
00000160: d117 77fb 0589 7fb1 b5dd b170 9531 c69f  ..w........p.1..
00000170: 2694 3668 3823 c89f 66bf c00d b7d2 6097  &.6h8#..f.....`.
00000180: d60a a613 b3a8 f654 68c4 8ad7 9bf4 6d31  .......Th.....m1
00000190: 755b 5037 48f6 d7a5 1384 d562 ddc0 7681  u[P7H......b..v.
000001a0: cf49 09fc 037a 61aa ce1e 273a a804 95fd  .I...za...':....
000001b0: e0fc e1d9 0069 0171 562a 0130 2379 3bba  .....i.qV*.0#y;.
000001c0: 9e5e ba97 2097 77af d792 4b44 2c2b f06e  .^.. .w...KD,+.n
000001d0: 0fc6 bff1 fa5e 33ff afd7 5e4d 09b0 219f  .....^3...^M..!.
000001e0: bccf 853f d741 57c3 97a2 4ec9 68ff e22d  ...?.AW...N.h..-
000001f0: b028 d2ca d6fe 7f55 48e9 3f0c 8850 3c9a  .(.....UH.?..P<.
00000200: 04c5 6315 729d 6d84 eaba bbc1 e4fd 05cc  ..c.r.m.........
00000210: 7d23 a251 84c7 2567 f6b2 3ec5 3f3c d20f  }#.Q..%g..>.?<..
00000220: 83a5 1404 c7d9 9f27 674f c125 a5b0 4bd6  .......'gO.%..K.
00000230: c14b 5616 1a9b 8ba0 5d1e f17f 4ab2 a4ff  .KV.....]...J...
00000240: 24da 7d0b 7de3 bc22 b24b ee48 b555 7d64  $.}.}..".K.H.U}d
00000250: 64a5 87c6 8a7c cf8a 2f5b b628 82f1 ec45  d....|../[.(...E
00000260: f870 aa4f 2f68 73b9 4984 8df7 23cb eb18  .p.O/hs.I...#...
00000270: 5389 7961 c77e dc4b 71e9 c9ca 6990 186e  S.ya.~.Kq...i..n
00000280: 2d47 69ab 4d4d 24e4 4796 af10 29a9 8711  -Gi.MM$.G...)...
00000290: 93e6 5dbf 2400 3fc2 2faf dae9 ca7f bfa8  ..].$.?./.......
000002a0: ccc0 da4b 88a6 0315 39e3 68a3 a52b e012  ...K....9.h..+..
000002b0: 71dc 8b93 a2e6 7327 dfb1 85a6 8516 d396  q.....s'........
000002c0: 8f60 7d5a 669a b4ea b195 0dae fb85 ca71  .`}Zf..........q
000002d0: af7e 0848 0f99 a41a 8cb3 20dd 3c45 8a8d  .~.H...... .<E..
000002e0: 3d74 329e d14e c072 9087 6813 16cb 8c3b  =t2..N.r..h....;
000002f0: c582 0988 2e68 fc12 ea4c 3e17 daa5 75ef  .....h...L>...u.
00000300: de65 daa3 2bdb c82c 58e2 19e0 cdfd 225e  .e..+..,X....."^
00000310: 2f76 631b 9c3f ef8f bd30 44c1 738d 8d2d  /vc..?...0D.s..-
00000320: 5aed 38af a8ee 661f 224b 2766 e468 b6a3  Z.8...f."K'f.h..
00000330: e2db cf26 1fa8 6d4f 6ffd babc 737d c948  ...&..mOo...s}.H
00000340: d145 4daf 44a1 9a07 37ce df81 8737 6580  .EM.D...7....7e.
00000350: 0928 a240 0461 f4b0 49d4 6966 d681 cc96  .(.@.a..I.if....
00000360: 8fda 3e63 e59c 4aab 3c57 6e62 2c0f ec89  ..>c..J.<Wnb,...
00000370: 6e84 8fdb c94f 1602 3fed b09d a862 f8ac  n....O..?....b..
00000380: f16a 95de 56c0 921c 6663 9b8b 0f14 b7f9  .j..V...fc......
00000390: 5671 e903 c75d e5f4 5852 e027 97ce 5fe3  Vq...]..XR.'.._.
000003a0: 3f5f 4810 7dc0 d416 4efc 6db8 f196 a4ee  ?_H.}...N.m.....
000003b0: 5a5d c108 4352 eb5b 8da9 4488 62d3 76af  Z]..CR.[..D.b.v.
000003c0: 22a6 6b40 db1b c4d7 43ff 1c96 54ad 1f1c  ".k@....C...T...
000003d0: 7ab0 bf83 8b7f 34e4 3215 cd2e 59f1 0276  z.....4.2...Y..v
000003e0: 238f b3ae ae6f 6d12 c227 f574 1ea2 732c  #....om..'.t..s,
000003f0: 7809 cca1 53d5 82c2 7ecd da6f fdab 111a  x...S...~..o....
00000400: 92d6 891e 0df5 ef7a 60dd cae8 fce0 8589  .......z`.......
00000410: 2943 a7d0 ad88 e69b 9be5 30d8 f96e 8780  )C........0..n..
00000420: 01d5 d502 88b9 9f0e d64f 11a4 4fbd b35f  .........O..O.._
00000430: 6531 0054 223e 6963 5e85 7d31 f338 5249  e1.T">ic^.}1.8RI
00000440: 2e69 e467 5a78 a513 2d19 f5a3 5fa5 61b5  .i.gZx..-..._.a.
00000450: e92e 6118 0f63 dd7d 03b7 6f2b 76b6 112d  ..a..c.}..o+v..-
00000460: b5b9 e743 c45c 6320 aeac 2487 e9ad a4a5  ...C.\c ..$.....
00000470: 53db 36d6 8e7e f366 81fa e674 ed4a da09  S.6..~.f...t.J..
00000480: 7e11 9df1 726d df6b 2c92 523f 9d67 46fc  ~...rm.k,.R?.gF.
00000490: 9370 1342 4480 cc06 04b1 8466 683d 9f20  .p.BD......fh=. 
000004a0: 0e9f ed6e 3f1e 66a0 b3cb e7a8 4dc1 7242  ...n?.f.....M.rB
000004b0: 144e d3e9 8025 a3ed 7d7e b002 25cc d10b  .N...%..}~..%...
000004c0: 720f eb3e 62a0 c073 0eb6 2dd7 e650 ed90  r..>b..s..-..P..
000004d0: 0e6b ee11 d601 87ee ac3d 335b 9e8b 79db  .k.......=3[..y.
000004e0: 0931 986f e37f b340 89d9 2355 f4dc a628  .1.o...@..#U...(
000004f0: 34e0 e43e 41df 1e05 4a97 176f 0657 980d  4..>A...J..o.W..
00000500: d42d 47df 6f03 597d b38d f32f 4f04 ed8a  .-G.o.Y}.../O...
00000510: 89ed 6600 5c9f ffbc e121 d49f 4e61 bcb9  ..f.\....!..Na..
00000520: e4c0 1832 fe61 ab7f f585 359f 314c 9f2c  ...2.a....5.1L.,
00000530: 9b32 fc0b 90e7 8a31 9b76 072e 636f 6e85  .2.....1.v..con.
00000540: 60fe d2b5 d592 e82e 9790 9a42 0168 ab17  `..........B.h..
00000550: fe14 8225 c35c e87d 412a 4cbb b627 548f  ...%.\.}A*L..'T.
00000560: e20a 8eab 0b27 b4ba 7e86 9aa2 612f b690  .....'..~...a/..
00000570: 4f6b 638a 6d4f 23d7 bd44 e1dc 70ee 976a  Okc.mO#..D..p..j
00000580: 5c94 98d7 4357 6ae2 5369 a9e0 e09c 4278  \...CWj.Si....Bx
00000590: 6fe0 30f8 68d6 a748 09d2 a06a 56b5 51a8  o.0.h..H...jV.Q.
000005a0: 85be baa3 e7ec c358 a04b 9723 ff94 c41f  .......X.K.#....
000005b0: d20c d78b 190d 7219 bc6d 122d 1d01 c5fe  ......r..m.-....
000005c0: 932e 5b7f 5651 892d 943a 5558 abfb 50b6  ..[.VQ.-.:UX..P.
000005d0: 82c3 cd45 d3af b571 206b 0ddb 2511 7a19  ...E...q k..%.z.
000005e0: 1161 d226 090b 5f6d 1a08 79c6 b7e2 3847  .a.&.._m..y...8G
000005f0: e951 442f e5a4 7c3a 997b 2bec 4ae1 146c  .QD/..|:.{+.J..l
00000600: c0a6 134e 7eb3 4958 ab69 8d82 6c14 94d6  ...N~.IX.i..l...
00000610: 7d3a de6c 30e3 efb1 b499 ce62 9813 0d46  }:.l0......b...F
00000620: 5256 3b0d 97eb b4f4 0a92 89f6 bc74 faf6  RV;..........t..
00000630: 6490 1b7e 055c d4c8 7fd7 4a3f 6008 a565  d..~.\....J?`..e
00000640: 53b0 0eb8 5d02 94ef 161c 7092 4de2 6ca2  S...].....p.M.l.
00000650: bebc 4521 fbe1 bb57 c19e 5e66 b85f 0d11  ..E!...W..^f._..
00000660: 7095 2d1d 2824 368d 6f40 d575 6bc8 7886  p.-.($6.o@.uk.x.
00000670: ab3b 1e4a c677 aaa2 e521 7791 e08e c005  .;.J.w...!w.....
00000680: 417f 5be1 d4f6 8d52 836f b87e 024d d834  A.[....R.o.~.M.4
00000690: 111e 0367 bbcd d103                      ...g....
```